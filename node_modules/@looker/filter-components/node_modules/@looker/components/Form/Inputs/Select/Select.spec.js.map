{"version":3,"file":"Select.spec.js","names":["getAllComboboxOptionText","renderWithTheme","AutoGraph","BarChart","act","fireEvent","screen","React","useState","useMemo","useEffect","Button","Select","SelectMulti","options100","Array","from","_","i","value","String","beforeEach","jest","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","runTimers","describe","test","label","click","getByPlaceholderText","select","getByText","closest","expect","not","toHaveClass","toHaveStyle","focus","mouseDown","mouseUp","blur","document","options","each","onChange","name","getJSX","handleChange","fn","queryByText","toBeInTheDocument","input","toBeVisible","bar","toHaveBeenCalledTimes","onChangeArg","toHaveBeenCalledWith","initialOptions","onFilter","optionsToUse","mockOnFilter","Component","setOptions","handleFilter","term","filter","option","indexOf","getAllByRole","toHaveLength","change","target","items","toHaveAttribute","fireArrowDown","keyDown","key","id","groupedOptions","description","foo","other","desc","dimensions","maxHeight","maxWidth","minWidth","width","jsx","list","getByRole","toHaveStyleRule","GetIndicatorJSX","listLevel","indicator","map","opt","undefined","GetIndicatorJSXMulti","toHaveBeenNthCalledWith","isActive","isSelected","check","queryByTitle","mockClear","detailOptions","detail","noOptions","toHaveBeenCalled","spinner","queryByLabelText","testArray","longOptions","index","slice","inputs","length","rafSpy","spyOn","window","mockImplementation","cb","surface","surfaceInner","firstChild","surfaceInnerFlex","scroll","mouseOver","queryByRole","selected","toHaveTextContent","mockRestore","commonProps","isFilterable","placeholder","showCreate","formatCreateLabel","inputValue","values","setValue","tempValue","setTempValue","t","setTimeout","clearTimeout","relatedTarget","toHaveFocus","globalConsole","global","console","warnMock","warn","resetAllMocks","toHaveValue","getByDisplayValue","button","clearButton","getByTestId","querySelector","setLabel","toMatchInlineSnapshot","filterTerm","setFilterTerm","filteredOptions","icon","queryByTestId","getAllByTestId","inputIcon","tagName","toBe","mock","calls","preface","fooPreface","barPreface","parentElement","toHaveDisplayValue","customLabelOptions","TestComponent"],"sources":["../../../../src/Form/Inputs/Select/Select.spec.tsx"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport {\n  getAllComboboxOptionText,\n  renderWithTheme,\n} from '@looker/components-test-utils'\nimport { AutoGraph, BarChart } from '@styled-icons/material'\nimport { act, fireEvent, screen } from '@testing-library/react'\nimport React, { useState, useMemo, useEffect } from 'react'\n\nimport { Button } from '../../../Button'\nimport type { ComboboxOptionIndicatorFunction } from '../Combobox'\nimport { Select } from './Select'\nimport { SelectMulti } from './SelectMulti'\nimport type { SelectOptionProps } from './types'\n\nconst options100 = Array.from(Array(100), (_, i) => ({\n  value: String(i + 1),\n}))\n\nbeforeEach(() => {\n  jest.useFakeTimers()\n})\n\nafterEach(() => {\n  jest.runOnlyPendingTimers()\n  jest.useRealTimers()\n})\n\nconst runTimers = () =>\n  act(() => {\n    jest.runOnlyPendingTimers()\n  })\n\ndescribe('Select / SelectMulti', () => {\n  test('ripple effect', () => {\n    renderWithTheme(\n      <Select\n        options={[\n          { label: 'Cheddar', value: 'cheddar' },\n          { label: 'Gouda', value: 'gouda' },\n          { label: 'Swiss', value: 'swiss' },\n        ]}\n        placeholder=\"Select\"\n      ></Select>\n    )\n\n    fireEvent.click(screen.getByPlaceholderText('Select'))\n\n    const select = screen.getByText('Cheddar').closest('li')\n    expect(select).not.toHaveClass('bg-on fg-in')\n    expect(select).toHaveStyle({\n      '--ripple-color': '#71767a',\n      '--ripple-scale-end': '1',\n      '--ripple-scale-start': '0.1',\n      '--ripple-size': '100%',\n      '--ripple-translate': '0, 0',\n    })\n\n    select && fireEvent.focus(select)\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.mouseDown(select)\n    expect(select).toHaveClass('bg-on fg-in')\n\n    // foreground is locked for a minimum time to animate the ripple\n    select && fireEvent.mouseUp(select)\n    runTimers()\n    expect(select).toHaveClass('bg-on fg-out')\n    runTimers()\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.blur(select)\n    expect(select).not.toHaveClass('bg-on fg-in')\n    fireEvent.click(document)\n  })\n\n  const options = [{ value: 'FOO' }, { value: 'BAR' }]\n\n  test.each([\n    [\n      'Select',\n      (onChange: () => void) => (\n        <Select\n          options={options}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onChange: () => void) => (\n        <SelectMulti\n          options={options}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with options and handleChange (%s)', (name, getJSX) => {\n    const handleChange = jest.fn()\n    renderWithTheme(getJSX(handleChange))\n    expect(screen.queryByText('FOO')).not.toBeInTheDocument()\n    expect(screen.queryByText('BAR')).not.toBeInTheDocument()\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    // const foo = screen.getByText('FOO')\n    const bar = screen.getByText('BAR')\n\n    // Clicking on the options should fire onBlur on the input and\n    // trigger the state transition that allows in an updated input value.\n    // It doesn't, and the following doesn't work to fake it, so we can't test input value.\n    // act(() => {\n    // getAllByRole('option')[0].focus()\n    // input.blur()\n    // })\n    fireEvent.click(bar)\n    // fireEvent.click(foo)\n\n    expect(handleChange).toHaveBeenCalledTimes(1)\n    // expect(handleChange).toHaveBeenCalledWith({ value: 'FOO' })\n    const onChangeArg = name === 'SelectMulti' ? ['BAR'] : 'BAR'\n    expect(handleChange).toHaveBeenCalledWith(onChangeArg)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  // Test long list of options to capture the windowed options issue\n  const initialOptions = [...options100, ...options, { value: 'BAZ' }]\n\n  test.each([\n    [\n      'Select',\n      (onFilter: (term: string) => void, optionsToUse: SelectOptionProps[]) => (\n        <Select\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={onFilter}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onFilter: (term: string) => void, optionsToUse: SelectOptionProps[]) => (\n        <SelectMulti\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={onFilter}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with onFilter (%s)', (_, getJSX) => {\n    const mockOnFilter = jest.fn()\n\n    function Component() {\n      const [optionsToUse, setOptions] = useState(initialOptions)\n      function handleFilter(term: string) {\n        mockOnFilter(term)\n        setOptions(\n          initialOptions.filter(option => option.value.indexOf(term) > -1)\n        )\n      }\n\n      return getJSX(handleFilter, optionsToUse)\n    }\n\n    renderWithTheme(<Component />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    // Only 6 options are rendered since jsdom gives the list a height of 0px\n    expect(screen.getAllByRole('option')).toHaveLength(6)\n    expect(screen.getByText('1')).toBeInTheDocument()\n    expect(screen.getByText('6')).toBeInTheDocument()\n\n    fireEvent.change(input, { target: { value: 'BA' } })\n    expect(mockOnFilter).toHaveBeenCalledWith('BA')\n\n    // Verify keyboard nav hasn't been messed up by updating options\n    const items = screen.getAllByRole('option')\n    expect(items).toHaveLength(2)\n    expect(items[0]).toHaveAttribute('aria-selected', 'false')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n\n    const fireArrowDown = () => fireEvent.keyDown(input, { key: 'ArrowDown' })\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'true')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n    expect(input).toHaveAttribute('aria-activedescendant', items[0].id)\n\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'false')\n    expect(items[1]).toHaveAttribute('aria-selected', 'true')\n    expect(input).toHaveAttribute('aria-activedescendant', items[1].id)\n\n    // Back to the top\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'true')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n    expect(input).toHaveAttribute('aria-activedescendant', items[0].id)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const groupedOptions = [\n    {\n      label: 'FOO',\n      options: [{ value: 'BAR' }, { value: 'BAZ' }],\n    },\n    {\n      label: 'OTHER',\n      options: [\n        { description: 'A description for something', value: 'something' },\n      ],\n    },\n    // label is not required\n    {\n      options: [{ value: 'QUX' }, { value: 'TEST' }],\n    },\n  ]\n\n  test.each([\n    [\n      'Select',\n      (onChange: () => void) => (\n        <Select\n          options={groupedOptions}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onChange: () => void) => (\n        <SelectMulti\n          options={groupedOptions}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with option descriptions and group labels (%s)', (name, getJSX) => {\n    const handleChange = jest.fn()\n    renderWithTheme(getJSX(handleChange))\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    const foo = screen.getByText('FOO')\n    const other = screen.getByText('OTHER')\n    const desc = screen.getByText('A description for something')\n\n    expect(foo).toBeInTheDocument()\n    expect(other).toBeInTheDocument()\n    expect(desc).toBeInTheDocument()\n\n    // A click on a title shouldn't do anything\n    fireEvent.click(foo)\n    // Description is part of the option so the click triggers change\n    fireEvent.click(desc)\n\n    expect(handleChange).toHaveBeenCalledTimes(1)\n\n    const onChangeArg = name === 'SelectMulti' ? ['something'] : 'something'\n    expect(handleChange).toHaveBeenCalledWith(onChangeArg)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const dimensions = {\n    maxHeight: 400,\n    maxWidth: 800,\n    minWidth: 300,\n    width: '50vw',\n  }\n\n  test.each([\n    [\n      'Select',\n      <Select\n        options={groupedOptions}\n        placeholder=\"Search\"\n        listLayout={dimensions}\n        key=\"select\"\n      />,\n    ],\n    [\n      'SelectMulti',\n      <SelectMulti\n        options={groupedOptions}\n        placeholder=\"Search\"\n        listLayout={dimensions}\n        key=\"select-multi\"\n      />,\n    ],\n  ])('with listLayout (%s)', (_, jsx) => {\n    renderWithTheme(jsx)\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    const list = screen.getByRole('listbox')\n    expect(list).toHaveStyleRule('max-height', '400px')\n    expect(list).toHaveStyleRule('max-width', '800px')\n    expect(list).toHaveStyleRule('min-width', '300px')\n    expect(list).toHaveStyleRule('width', '50vw')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  /* eslint-disable react/display-name */\n  const GetIndicatorJSX = (listLevel: boolean) => (\n    indicator: ComboboxOptionIndicatorFunction\n  ) => (\n    <Select\n      options={options.map(opt => ({\n        ...opt,\n        ...(listLevel ? {} : { indicator }),\n      }))}\n      value=\"FOO\"\n      placeholder=\"Search\"\n      indicator={listLevel ? indicator : undefined}\n      key=\"select\"\n    />\n  )\n\n  const GetIndicatorJSXMulti = (listLevel: boolean) => (\n    indicator: ComboboxOptionIndicatorFunction\n  ) => (\n    <SelectMulti\n      options={options.map(opt => ({\n        ...opt,\n        ...(listLevel ? {} : { indicator }),\n      }))}\n      values={['FOO']}\n      placeholder=\"Search\"\n      indicator={listLevel ? indicator : undefined}\n      key=\"select-multi\"\n    />\n  )\n  /* eslint-enable react/display-name */\n\n  test.each([\n    ['list level (Select)', GetIndicatorJSX(true)],\n    ['list level (SelectMulti)', GetIndicatorJSXMulti(true)],\n    ['option level (Select)', GetIndicatorJSX(false)],\n    ['option level (SelectMulti)', GetIndicatorJSXMulti(false)],\n  ])('Customize the indicator at the %s', (_, getJSX) => {\n    const indicator = jest.fn()\n    renderWithTheme(getJSX(indicator))\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n\n    expect(indicator).toHaveBeenCalledTimes(2)\n    expect(indicator).toHaveBeenNthCalledWith(1, {\n      // ComboboxList.persistSelection is true for Select/SelectMulti\n      isActive: true,\n      isSelected: true,\n      label: undefined,\n      value: 'FOO',\n    })\n    expect(indicator).toHaveBeenNthCalledWith(2, {\n      isActive: false,\n      isSelected: false,\n      label: undefined,\n      value: 'BAR',\n    })\n\n    const check = screen.queryByTitle('Check')\n    expect(check).not.toBeInTheDocument()\n\n    indicator.mockClear()\n\n    const bar = screen.getByText('BAR')\n    fireEvent.keyDown(bar, {\n      key: 'ArrowDown',\n    })\n\n    expect(indicator).toHaveBeenCalledTimes(2)\n    expect(indicator).toHaveBeenNthCalledWith(1, {\n      // ComboboxList.persistSelection is true for Select/SelectMulti\n      isActive: false,\n      isSelected: true,\n      label: undefined,\n      value: 'FOO',\n    })\n    expect(indicator).toHaveBeenNthCalledWith(2, {\n      isActive: true,\n      isSelected: false,\n      label: undefined,\n      value: 'BAR',\n    })\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const detailOptions = [{ detail: 'Info about option', value: 'someValue' }]\n  test.each([\n    [\n      'Select',\n      <Select placeholder=\"Search\" options={detailOptions} key=\"select\" />,\n    ],\n    [\n      'SelectMulti',\n      <SelectMulti\n        placeholder=\"Search\"\n        options={detailOptions}\n        key=\"select-multi\"\n      />,\n    ],\n  ])('option detail (%s)', (_, jsx) => {\n    renderWithTheme(jsx)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    expect(screen.getByText('Info about option')).toBeVisible()\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  describe('no options', () => {\n    test.each([\n      [\n        'Select',\n        (onChange: () => void) => (\n          <Select placeholder=\"Search\" onChange={onChange} key=\"select\" />\n        ),\n      ],\n      [\n        'SelectMulti',\n        (onChange: () => void) => (\n          <SelectMulti\n            placeholder=\"Search\"\n            onChange={onChange}\n            key=\"select-multi\"\n          />\n        ),\n      ],\n    ])('label does nothing when clicked (%s)', (_, getJSX) => {\n      const handleChange = jest.fn()\n      renderWithTheme(getJSX(handleChange))\n\n      const input = screen.getByPlaceholderText('Search')\n\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.getByText('No options')\n      fireEvent.click(noOptions)\n\n      expect(handleChange).not.toHaveBeenCalled()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const label = 'Your search returned no results'\n    test.each([\n      [\n        'Select',\n        <Select placeholder=\"Search\" noOptionsLabel={label} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          placeholder=\"Search\"\n          noOptionsLabel={label}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label text (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.queryByText(label)\n      expect(noOptions).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n    test.each([\n      ['Select', <Select placeholder=\"Search\" isLoading key=\"select\" />],\n      [\n        'SelectMulti',\n        <SelectMulti placeholder=\"Search\" isLoading key=\"select-multi\" />,\n      ],\n    ])('isLoading (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n\n      fireEvent.mouseDown(input)\n\n      const spinner = screen.queryByLabelText('Loading')\n      expect(spinner).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  describe('windowed options', () => {\n    const testArray: Array<\n      [string, (longOptions: SelectOptionProps[]) => JSX.Element]\n    > = [\n      [\n        'Select',\n        longOptions => (\n          <Select placeholder=\"Search\" options={longOptions} key=\"select\" />\n        ),\n      ],\n      [\n        'SelectMulti',\n        longOptions => (\n          <SelectMulti\n            placeholder=\"Search\"\n            options={longOptions}\n            key=\"select-multi\"\n          />\n        ),\n      ],\n    ]\n\n    test.each(testArray)('100 options do not all render (%s)', (_, getJSX) => {\n      const longOptions = Array.from(Array(100), (_, index) => ({\n        value: `${index}`,\n      }))\n      renderWithTheme(getJSX(longOptions))\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      expect(screen.getByText('0')).toBeInTheDocument()\n      expect(screen.getByText('5')).toBeInTheDocument()\n      // js-dom doesn't do layout so only the first option + 5 buffer are rendered\n      expect(screen.queryByText('6')).not.toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    test.each(testArray)(\n      '100 grouped options do not all render (%s)',\n      (_, getJSX) => {\n        const longOptions = Array.from(Array(100), (_, index) => ({\n          value: `${index}`,\n        }))\n        const groupedOptions = [\n          { label: 'First', options: longOptions.slice(0, 4) },\n          { label: 'Second', options: longOptions.slice(4, 20) },\n          { label: 'Third', options: longOptions.slice(20, 99) },\n        ]\n        renderWithTheme(getJSX(groupedOptions))\n\n        const inputs = screen.getAllByRole('textbox')\n        // SelectMulti has a hidden input\n        const input = inputs[inputs.length - 1]\n        fireEvent.mouseDown(input)\n\n        expect(screen.getByText('First')).toBeInTheDocument()\n        expect(screen.getByText('3')).toBeInTheDocument()\n        // js-dom doesn't do layout so only the first divider (hidden), group header\n        // and 4 options are rendered\n        expect(screen.queryByText('4')).not.toBeInTheDocument()\n        // Close popover to silence act() warning\n        fireEvent.click(document)\n      }\n    )\n\n    test.each(testArray)(\n      'Hover navigation is off while scrolling (%s)',\n      (_, getJSX) => {\n        jest.useFakeTimers()\n\n        const rafSpy = jest\n          .spyOn(window, 'requestAnimationFrame')\n          .mockImplementation((cb: any) => cb())\n\n        renderWithTheme(getJSX(options))\n\n        const input = screen.getByPlaceholderText('Search')\n        fireEvent.mouseDown(input)\n\n        // hover will not trigger navigate during & right after scroll\n        const surface = screen.getByRole('dialog')\n        expect(surface).toBeInTheDocument()\n        const surfaceInner = surface && surface.firstChild\n        expect(surfaceInner).toBeInTheDocument()\n        const surfaceInnerFlex = surfaceInner && surfaceInner.firstChild\n        expect(surfaceInnerFlex).toBeInTheDocument()\n        surfaceInnerFlex && fireEvent.scroll(surfaceInnerFlex)\n\n        const bar = screen.getByText('BAR')\n        fireEvent.mouseOver(bar)\n        expect(\n          screen.queryByRole('option', { selected: true })\n        ).not.toBeInTheDocument()\n\n        // hover will trigger navigate after timeout\n        jest.runOnlyPendingTimers()\n\n        fireEvent.mouseOver(bar)\n        expect(\n          screen.queryByRole('option', { selected: true })\n        ).toHaveTextContent('BAR')\n\n        // Close popover to silence act() warning\n        fireEvent.click(document)\n\n        runTimers()\n\n        rafSpy.mockRestore()\n      }\n    )\n\n    test.each(testArray)('99 options all render (%s)', (_, getJSX) => {\n      const longOptions = Array.from(Array(99), (_, index) => ({\n        value: `${index}`,\n      }))\n      renderWithTheme(getJSX(longOptions))\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      expect(screen.getByText('0')).toBeInTheDocument()\n      expect(screen.getByText('98')).toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const label = 'Your search returned no results'\n    test.each([\n      [\n        'Select',\n        <Select placeholder=\"Search\" noOptionsLabel={label} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          placeholder=\"Search\"\n          noOptionsLabel={label}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label text (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.queryByText(label)\n      expect(noOptions).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  describe('showCreate', () => {\n    const commonProps = {\n      isFilterable: true,\n      placeholder: 'Search',\n      showCreate: true,\n    }\n    test.each([\n      [\n        'Select',\n        <Select defaultValue=\"test value\" {...commonProps} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          defaultValues={['test value']}\n          {...commonProps}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('create option replaces \"No options\" (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'some text' } })\n\n      expect(screen.getByText('Create \"some text\"')).toBeVisible()\n      expect(screen.queryByText('No options')).not.toBeInTheDocument()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'test value' } })\n\n      // create option doesn't show if inputValue is already in current values\n      expect(screen.getByText('No options')).toBeVisible()\n      expect(screen.queryByText('Create \"test value\"')).not.toBeInTheDocument()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: '' } })\n\n      // No options should show if there are no options AND no input value\n      expect(screen.getByText('No options')).toBeVisible()\n      expect(screen.queryByText('Create \"\"')).not.toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const formatCreateLabel = (inputValue: string) =>\n      `${inputValue} CREATE LABEL`\n    test.each([\n      [\n        'Select',\n        <Select\n          options={options}\n          {...commonProps}\n          formatCreateLabel={formatCreateLabel}\n          key=\"select\"\n        />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          options={options}\n          {...commonProps}\n          formatCreateLabel={formatCreateLabel}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label, checks options (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'some text' } })\n\n      expect(screen.getByText('some text CREATE LABEL')).toBeVisible()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'foo' } })\n\n      // create option doesn't show if inputValue is in options\n      expect(screen.queryByText('foo CREATE LABEL')).not.toBeInTheDocument()\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  test.each([\n    [\n      'Select',\n      (value: string, onChange: (value: string) => void) => (\n        <Select\n          options={options}\n          placeholder=\"Search\"\n          value={value}\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (value: string, onChange: (value: string) => void) => (\n        <SelectMulti\n          options={options}\n          placeholder=\"Search\"\n          values={[value]}\n          onChange={(values?: string[]) =>\n            onChange(values && values.length ? values[0] : '')\n          }\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with controlled delayed update (%s)', (_, getJSX) => {\n    function Component() {\n      const [value, setValue] = useState('BAR')\n      const [tempValue, setTempValue] = useState(value)\n      useEffect(() => {\n        const t = setTimeout(() => {\n          setValue(tempValue)\n        }, 0)\n        return () => {\n          clearTimeout(t)\n        }\n      }, [tempValue])\n\n      return getJSX(value, setTempValue)\n    }\n\n    renderWithTheme(<Component />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    const option = screen.getByText('FOO')\n    fireEvent.blur(input, { relatedTarget: option })\n    fireEvent.click(option)\n\n    expect(input).toHaveFocus()\n\n    runTimers()\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n})\n\ndescribe('Select', () => {\n  const globalConsole = global.console\n  const warnMock = jest.fn()\n\n  beforeEach(() => {\n    global.console = ({\n      warn: warnMock,\n    } as unknown) as Console\n  })\n\n  afterEach(() => {\n    jest.resetAllMocks()\n    global.console = globalConsole\n  })\n\n  const options = [\n    { label: 'Foo', value: 'FOO' },\n    { label: 'Bar', value: 'BAR' },\n  ]\n\n  test('value', () => {\n    renderWithTheme(\n      <Select\n        options={options}\n        placeholder=\"Search\"\n        value=\"BAR\"\n        onChange={jest.fn()}\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).toHaveValue('Bar')\n    // verify that clear all icon button is not show (isClearable not set)\n    expect(screen.queryByRole('button')).not.toBeInTheDocument()\n  })\n\n  test('clearing the value externally', () => {\n    const Component = () => {\n      const [value, setValue] = useState('FOO')\n      return (\n        <>\n          <Button onClick={() => setValue('')}>Clear</Button>\n          <Select value={value} onChange={setValue} options={options} />\n        </>\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Foo')\n    const button = screen.getByText('Clear')\n\n    fireEvent.click(button)\n    expect(input).not.toHaveValue()\n  })\n\n  test('defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} placeholder=\"Search\" defaultValue=\"BAR\" />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).toHaveValue('Bar')\n  })\n\n  test('isClearable', () => {\n    const handleChange = jest.fn()\n    renderWithTheme(\n      <Select\n        options={options}\n        placeholder=\"Search\"\n        defaultValue=\"BAR\"\n        onChange={handleChange}\n        isClearable\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toHaveValue('Bar')\n\n    const clearButton = screen.getByRole('button')\n    fireEvent.click(clearButton)\n\n    expect(input).not.toHaveValue()\n    expect(handleChange).toHaveBeenCalledWith('')\n  })\n\n  test('placeholder, no defaultValue', () => {\n    const options = [{ value: 'FOO' }, { value: 'BAR' }]\n    renderWithTheme(<Select options={options} placeholder=\"Search\" />)\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('isClearable, no defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} isClearable data-testid=\"wrapper\" />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} defaultValue=\"\" data-testid=\"wrapper\" />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string value', () => {\n    renderWithTheme(<Select options={options} value=\"\" data-testid=\"wrapper\" />)\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string value, empty string option', () => {\n    renderWithTheme(\n      <Select\n        options={[{ label: 'An empty string', value: '' }, ...options]}\n        value=\"\"\n        data-testid=\"wrapper\"\n      />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).toHaveValue('An empty string')\n  })\n\n  test('default to first option', () => {\n    renderWithTheme(<Select options={options} data-testid=\"wrapper\" />)\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should default to first option\n    expect(input).toHaveValue('Foo')\n  })\n\n  test('displayed value changes when option label changes', () => {\n    const Component = () => {\n      const [label, setLabel] = useState('Original Label')\n      const options = [\n        { label, value: 'value_stays_the_same' },\n        { label: 'Another Option', value: 'other' },\n      ]\n      return (\n        <>\n          <Button onClick={() => setLabel('Updated label')}>\n            Update label\n          </Button>\n          <Select value=\"value_stays_the_same\" options={options} />\n        </>\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Original Label')\n    fireEvent.click(input)\n    expect(getAllComboboxOptionText()).toMatchInlineSnapshot(`\n      Array [\n        \"Original Label\",\n        \"Another Option\",\n      ]\n    `)\n    // Close list\n    fireEvent.click(document)\n\n    fireEvent.click(screen.getByText('Update label'))\n    expect(input).toHaveValue('Updated label')\n\n    fireEvent.click(input)\n    expect(getAllComboboxOptionText()).toMatchInlineSnapshot(`\n      Array [\n        \"Updated label\",\n        \"Another Option\",\n      ]\n    `)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('filtering out the selected option does not trigger a change', () => {\n    // Tests a bug where as soon as the selected option gets filtered out,\n    // the input value reverts to the current value\n    const Component = () => {\n      const [filterTerm, setFilterTerm] = useState('')\n      const filteredOptions = useMemo(\n        () => options.filter(option => option.label.indexOf(filterTerm) > -1),\n        [filterTerm]\n      )\n      return (\n        <Select\n          value=\"FOO\"\n          options={filteredOptions}\n          isFilterable\n          onFilter={setFilterTerm}\n        />\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Foo')\n    fireEvent.change(input, { target: { value: 'Ba' } })\n    expect(input).toHaveValue('Ba')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('option icons', () => {\n    renderWithTheme(\n      <Select\n        placeholder=\"Select a visualization\"\n        options={[\n          {\n            icon: <AutoGraph data-testid=\"input-icon\" />,\n            label: 'Bar',\n            value: 'bar',\n          },\n          { label: 'No Icon', value: 'noicon' },\n          {\n            icon: <BarChart data-testid=\"input-icon\" />,\n            indicator: 'Test Indicator',\n            label: 'Column',\n            value: 'column',\n          },\n          {\n            icon: <>cool icon</>,\n            label: 'Custom Icon',\n            value: 'custom',\n          },\n        ]}\n      />\n    )\n\n    expect(screen.queryByTestId('input-icon')).not.toBeInTheDocument()\n\n    const input = screen.getByPlaceholderText('Select a visualization')\n    expect(input).toBeInTheDocument()\n    fireEvent.click(input)\n    expect(screen.getAllByTestId('input-icon')).toHaveLength(2)\n    expect(screen.getByTestId('option-icon-placeholder')).toBeInTheDocument()\n\n    fireEvent.click(screen.getByText('Column'))\n    const inputIcon = screen.getByTestId('input-icon')\n    expect(inputIcon.tagName).toBe('svg')\n\n    fireEvent.click(input)\n    fireEvent.click(screen.getByText('Custom Icon'))\n    expect(screen.getByText('cool icon')).toBeInTheDocument()\n\n    // Test icon+indicator warning\n    expect(screen.queryByText('Test Indicator')).not.toBeInTheDocument()\n    expect(warnMock.mock.calls).toMatchInlineSnapshot(`\n      Array [\n        Array [\n          \"Use icon or indicator but not both at the same time.\",\n        ],\n        Array [\n          \"Use icon or indicator but not both at the same time.\",\n        ],\n      ]\n    `)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('option preface', () => {\n    renderWithTheme(\n      <Select\n        placeholder=\"Search\"\n        options={[\n          { label: 'Foo', preface: 'Preface for Foo', value: 'FOO' },\n          {\n            label: 'Bar',\n            preface: (\n              <>\n                <strong>Preface for</strong> Bar\n              </>\n            ),\n            value: 'BAR',\n          },\n        ]}\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n    const fooPreface = screen.getByText('Preface for Foo')\n    const barPreface = screen.getByText('Preface for')\n    expect(fooPreface).toBeVisible()\n    expect(barPreface).toBeVisible()\n    expect(barPreface.parentElement).toHaveTextContent('Preface for Bar')\n\n    fireEvent.click(fooPreface)\n    expect(input).toHaveDisplayValue('Foo')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('filtering after selecting an option where value != label', () => {\n    const customLabelOptions = [\n      { label: 'Foo', value: 'FOO' },\n      { label: 'Bar', value: 'BAR' },\n    ]\n    function TestComponent() {\n      const [filterTerm, setFilterTerm] = useState('')\n      const [value, setValue] = useState('')\n      // Just need to simulate the current option being filtered out\n      const filteredOptions = filterTerm === '' ? customLabelOptions : []\n      return (\n        <Select\n          options={filteredOptions}\n          value={value}\n          onChange={setValue}\n          isFilterable\n          onFilter={setFilterTerm}\n          placeholder=\"Search\"\n        />\n      )\n    }\n\n    renderWithTheme(<TestComponent />)\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n    fireEvent.click(screen.getByText('Foo'))\n    expect(input).toHaveDisplayValue('Foo')\n\n    fireEvent.focus(input)\n    fireEvent.change(input, { target: { value: 'Testing' } })\n    expect(input).toHaveDisplayValue('Testing')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  // Test for the \"No options\" bug\n  test('filtering a windowed list then deleting the filter', () => {\n    function Component() {\n      const [optionsToUse, setOptions] = useState(options100)\n      function handleFilter(term: string) {\n        setOptions(options100.filter(option => option.value.indexOf(term) > -1))\n      }\n      return (\n        <Select\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={handleFilter}\n          value=\"\"\n        />\n      )\n    }\n\n    renderWithTheme(<Component />)\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    fireEvent.change(input, { target: { value: '90' } })\n    // Must delete filter before navigating for bug to show up\n    fireEvent.change(input, { target: { value: '' } })\n    expect(screen.queryByText('No options')).not.toBeInTheDocument()\n\n    fireEvent.click(document)\n  })\n})\n"],"mappings":"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"}