"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.seriesLabelFormatter = void 0;

require("core-js/modules/es.array.iterator.js");

require("core-js/modules/es.regexp.exec.js");

require("core-js/modules/es.string.split.js");

require("core-js/modules/es.string.replace.js");

var _visualizationsAdapters = require("@looker/visualizations-adapters");

var _find = _interopRequireDefault(require("lodash/find"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const seriesLabelFormatter = (fields, config, item) => {
  const closestSeries = (0, _visualizationsAdapters.pickSeriesByName)(fields, config, item);
  const field = (0, _find.default)([...fields.measures, ...fields.dimensions], {
    name: item
  });
  const pivoted_label = field && (field === null || field === void 0 ? void 0 : field.pivoted_label);
  const fallback = item.split('.').pop() || '';
  return closestSeries.label || pivoted_label || (field === null || field === void 0 ? void 0 : field.label) || fallback.replace(/_/g, ' ');
};

exports.seriesLabelFormatter = seriesLabelFormatter;
//# sourceMappingURL=seriesLabelFormatter.js.map